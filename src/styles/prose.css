/**
 * Prose 스타일
 * 블로그 포스트 콘텐츠의 타이포그래피 스타일
 */

@layer components {
  /* 기본 prose 스타일 */
  .prose {
    @apply max-w-none;
    color: var(--color-text-secondary) !important;
  }

  /* 제목 스타일 */
  .prose h1,
  .prose h2,
  .prose h3,
  .prose h4,
  .prose h5,
  .prose h6 {
    @apply font-bold tracking-tight;
    color: var(--color-text-primary) !important;
    /* 헤더 높이만큼 스크롤 오프셋 (h-16 = 64px) */
    scroll-margin-top: 4rem;
  }

  .prose h1 {
    @apply text-3xl sm:text-4xl mb-8;
    color: var(--color-text-primary) !important;
  }

  .prose h2 {
    @apply text-2xl sm:text-3xl mt-12 mb-6;
    color: var(--color-text-primary) !important;
  }

  .prose h3 {
    @apply text-xl sm:text-2xl mt-8 mb-4;
    color: var(--color-text-primary) !important;
  }

  .prose h4 {
    color: var(--color-text-primary) !important;
  }

  .prose h5 {
    color: var(--color-text-primary) !important;
  }

  .prose h6 {
    color: var(--color-text-primary) !important;
  }

  /* 본문 스타일 */
  .prose p {
    @apply leading-relaxed mb-6 text-[17px];
    white-space: pre-line;
    color: var(--color-text-primary) !important;
  }

  /* 링크 스타일 */
  .prose a {
    @apply font-medium no-underline transition-colors hover:underline;
    color: var(--color-link) !important;
  }

  .prose a:hover {
    color: var(--color-link-hover) !important;
  }

  /* 인라인 코드 스타일 */
  .prose code {
    @apply rounded-md px-1.5 py-0.5 text-[13px] font-medium;
    background-color: var(--color-bg-code) !important;
    color: var(--color-text-code) !important;
  }

  /* 인라인 코드의 백틱 숨기기 */
  .prose
    :where(code):not(
      :where([class~='not-prose'], [class~='not-prose'] *)
    )::before,
  .prose
    :where(code):not(
      :where([class~='not-prose'], [class~='not-prose'] *)
    )::after {
    content: '' !important;
  }

  /* 코드 블록 스타일 */
  .prose pre {
    @apply my-8 overflow-hidden rounded-3xl p-5 shadow-sm;
    border: 1px solid var(--color-border-primary) !important;
    background-color: var(--color-bg-code-block) !important;
  }

  .prose pre code {
    @apply bg-transparent! p-0 text-[13px] leading-relaxed;
    background-color: transparent !important;
    color: var(--color-text-code-block) !important;
  }

  /* 이미지 스타일 */
  .prose img {
    @apply my-12 rounded-3xl shadow-sm;
  }

  /* 인용구 스타일 */
  .prose blockquote {
    @apply pl-6 italic;
    border-left: 4px solid var(--color-border-primary) !important;
    color: var(--color-text-tertiary) !important;
  }

  /* blockquote 내부 따옴표 제거 */
  .prose blockquote p::before,
  .prose blockquote p::after {
    content: '' !important;
  }

  /* 리스트 스타일 */
  .prose ul {
    @apply list-disc pl-6 mb-6 space-y-2;
    color: var(--color-text-secondary) !important;
  }

  .prose ol {
    @apply list-decimal pl-6 mb-6 space-y-2;
    color: var(--color-text-secondary) !important;
  }

  .prose li {
    color: var(--color-text-secondary) !important;
  }

  /* 강조 스타일 */
  .prose strong {
    color: var(--color-text-primary) !important;
    font-weight: 600;
  }

  .prose em {
    color: var(--color-text-secondary) !important;
  }

  /* 구분선 스타일 */
  .prose hr {
    border-color: var(--color-border-primary) !important;
  }
}
